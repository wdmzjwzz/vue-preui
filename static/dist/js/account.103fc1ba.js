(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account"],{"0d7a":function(e,t,a){"use strict";var i=a("b2a2"),n=a("8a1c"),l=a("857c"),s=a("2732"),c=a("ef4c"),o=a("38eb"),r=a("d88d"),u=a("59da"),f=a("5139"),g=a("efe2"),h=[].push,d=Math.min,p=4294967295,v=!g((function(){return!RegExp(p,"y")}));i("split",2,(function(e,t,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var i=String(s(this)),l=void 0===a?p:a>>>0;if(0===l)return[];if(void 0===e)return[i];if(!n(e))return t.call(i,e,l);var c,o,r,u=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,v=new RegExp(e.source,g+"g");while(c=f.call(v,i)){if(o=v.lastIndex,o>d&&(u.push(i.slice(d,c.index)),c.length>1&&c.index<i.length&&h.apply(u,c.slice(1)),r=c[0].length,d=o,u.length>=l))break;v.lastIndex===c.index&&v.lastIndex++}return d===i.length?!r&&v.test("")||u.push(""):u.push(i.slice(d)),u.length>l?u.slice(0,l):u}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:t.call(this,e,a)}:t,[function(t,a){var n=s(this),l=void 0==t?void 0:t[e];return void 0!==l?l.call(t,n,a):i.call(String(n),t,a)},function(e,n){var s=a(i,e,this,n,i!==t);if(s.done)return s.value;var f=l(e),g=String(this),h=c(f,RegExp),m=f.unicode,_=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g"),b=new h(v?f:"^(?:"+f.source+")",_),C=void 0===n?p:n>>>0;if(0===C)return[];if(0===g.length)return null===u(b,g)?[g]:[];var w=0,D=0,y=[];while(D<g.length){b.lastIndex=v?D:0;var x,V=u(b,v?g:g.slice(D));if(null===V||(x=d(r(b.lastIndex+(v?0:D)),g.length))===w)D=o(g,D,m);else{if(y.push(g.slice(w,D)),y.length===C)return y;for(var I=1;I<=V.length-1;I++)if(y.push(V[I]),y.length===C)return y;D=w=x}}return y.push(g.slice(w)),y}]}),!v)},"75f5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"acoount bgfff"},[a("h2",{staticClass:"title"},[e._v("计费管理")]),a("div",{staticClass:"acoount-content"},[a("div",{staticClass:"account-top"},[e._v(" 续费凭证： "),e._m(0),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"file",id:"fileInput"},on:{change:function(t){return e.tirggerFile(t)}}})]),a("div",{staticClass:"acoount-item"},[a("span",[e._v("企业名称")]),a("span",[e._v(e._s(e.initModel.name))])]),a("div",{staticClass:"acoount-item"},[a("span",[e._v("硬件编号")]),a("span",[e._v(e._s(e.initModel.code))])]),e.fileData.chargeValue?a("div",{staticClass:"acoount-item"},[a("span",[e._v("计费模式")]),a("span",[e._v(e._s(0===e.fileData.chargeType?"按次":"按时间"))])]):e._e(),e.fileData.chargeValue?a("div",{staticClass:"acoount-item"},[0===e.fileData.chargeType?a("span",[e._v("续费：次")]):a("span",[e._v("续费：小时")]),a("span",[e._v(e._s(e.fileData.chargeValue||"--"))])]):e._e(),e.fileData.chargeValue?a("div",{staticClass:"acoount-item"},[a("span",[e._v("凭证有效期")]),a("span",[e._v(e._s("00:05:00"))])]):e._e()]),a("div",{staticClass:"acoount-compute-footor"},[a("el-button",{on:{click:e.recharge}},[e._v("确定")])],1),a("el-dialog",{attrs:{title:e.dialogTitle,"custom-class":"chargeDialog",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.chargeStatus?[a("i",{staticClass:"el-icon-circle-check"}),0===e.fileData.chargeType?a("span",{staticClass:"times"},[e._v("续费："+e._s(e.fileData.chargeValue)+"次")]):a("span",[e._v("续费："+e._s(e.fileData.chargeValue))])]:e._e(),e.chargeStatus?e._e():[a("i",{staticClass:"el-icon-warning-outline"}),a("span",{staticClass:"times"},[e._v("请确认续费凭证有效期/正确性！")])],a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"normal-button",on:{click:function(t){e.dialogVisible=!1}}},[e._v("知道了")])],1)],2)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"upload",attrs:{for:"fileInput"}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 上传凭证 ")])}],l=(a("fe59"),a("98e0"),a("513c"),a("e35a"),a("96db"),a("0d7a"),a("08ba"),{data:function(){return{dialogTitle:"续费成功",dialogVisible:!1,initModel:{},fileData:{chargeType:"",chargeValue:""},chargeStatus:!1}},methods:{getCompanyInfo:function(){var e=this;this.ApiService.getCompanyInfo().then((function(t){e.initModel=t.data}))},tirggerFile:function(e){this.uploadFile(e.target.files)},uploadFile:function(e){var t=this,a=function(e){var a=e.target.result,i=a.split("|");t.fileData.chargeType=+i[3],1===t.fileData.chargeType?t.fileData.chargeValue=t.moment(1e3*Number(i[2])).format("YYYY-MM-DD HH:mm:ss"):t.fileData.chargeValue=i[2]},i=function(e){console.log("readFileFailed")};Array.from(e).forEach((function(e){var t=new FileReader;t.readAsText(e),t.onload=a,t.onerror=i}))},recharge:function(){var e=this,t=document.getElementById("fileInput").files[0];if(t){var a=new FormData;a.append("signFile",t),this.ApiService.recharge(a).then((function(t){e.dialogVisible=!0,0===t.code?(e.dialogTitle="续费成功",e.chargeStatus=!0):(e.dialogTitle="续费失败",e.chargeStatus=!1)}))}else this.Utils.message("请先上传凭证","warning")}},mounted:function(){this.getCompanyInfo(fileInput)}}),s=l,c=(a("852c"),a("e0b8"),a("9ca4")),o=Object(c["a"])(s,i,n,!1,null,"098a4b1a",null);t["default"]=o.exports},"852c":function(e,t,a){"use strict";var i=a("ee51"),n=a.n(i);n.a},"8a1c":function(e,t,a){var i=a("a719"),n=a("2118"),l=a("90fb"),s=l("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==n(e))}},e0b8:function(e,t,a){"use strict";var i=a("fe36"),n=a.n(i);n.a},ee51:function(e,t,a){},fe36:function(e,t,a){}}]);
//# sourceMappingURL=account.103fc1ba.js.map