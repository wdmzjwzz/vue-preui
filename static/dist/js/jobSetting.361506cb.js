(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["jobSetting"],{"124b":function(t,e,a){"use strict";var s=a("2433"),n=a.n(s);n.a},2433:function(t,e,a){},3178:function(t,e,a){},"76b5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting bgfff"},[a("h2",{staticClass:"title"},[t._v("作业配置")]),a("div",{staticClass:"setting-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"header-row-class-name":"table-header","row-class-name":"table-tr",data:t.tableData,border:"",height:"513"}},[a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"name",label:"发起方"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:"autoAccept"},model:{value:e.row.authAutoType,callback:function(a){t.$set(e.row,"authAutoType",a)},expression:"scope.row.authAutoType"}},[t._v("自动同意")]),a("el-radio",{attrs:{label:"autoReject"},model:{value:e.row.authAutoType,callback:function(a){t.$set(e.row,"authAutoType",a)},expression:"scope.row.authAutoType"}},[t._v("自动拒绝")]),a("el-radio",{attrs:{label:"manual"},model:{value:e.row.authAutoType,callback:function(a){t.$set(e.row,"authAutoType",a)},expression:"scope.row.authAutoType"}},[t._v("手动操作")])]}}])})],1),a("div",{staticClass:"identity-pagination"},[a("span",[t._v("共"+t._s(t.total)+"条记录")]),a("span",{staticClass:"right-part"},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v("共"+t._s(t.totalPage)+"页")]),a("el-select",{staticClass:"page-size-select",attrs:{placeholder:"请选择"},on:{change:t.handleSizeChange},model:{value:t.pageSizeList.value,callback:function(e){t.$set(t.pageSizeList,"value",e)},expression:"pageSizeList.value"}},t._l(t.pageSizeList.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.size,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)])],1),a("div",{staticClass:"setting-compute-footor"},[a("el-button",{staticClass:"normal-button",on:{click:function(e){return t.$router.go(-1)}}},[t._v("取消")]),a("el-button",{on:{click:t.postConfig}},[t._v("保存")])],1)])},n=[],i=(a("fe59"),a("08ba"),{data:function(){return{initModel:{},tableData:[],currentPage:1,total:0,totalPage:0,size:10,pageSizeList:{value:10,options:[{value:10,label:"每页10条"},{value:30,label:"每页30条"},{value:50,label:"每页50条"}]}}},methods:{handleSizeChange:function(t){this.size=t,this.getAuthList({page:this.currentPage-1,size:t,status:"accepted"})},handleCurrentChange:function(t){this.currentPage=t,this.getAuthList({page:this.currentPage-1,size:this.size,status:"accepted"})},getAuthList:function(t){var e=this,a=t||{page:this.currentPage-1,size:this.size,status:"accepted"};this.ApiService.getAuthList(a).then((function(t){var a=[];t.data.content.forEach((function(t){a.push({id:t.id,name:t.senderCompany,authAutoType:t.authAutoType||"manual"})})),e.tableData=a,e.total=t.data.totalElements,e.totalPage=t.data.totalPages}),(function(t){e.Utils.message("warning",t.message)}))},postConfig:function(){var t=this,e=[];this.tableData.forEach((function(t){e.push({id:t.id,authAutoType:t.authAutoType})})),this.ApiService.postAuthAuto(e).then((function(e){0===e.code?t.Utils.message("保存成功！","success"):t.Utils.message(e.message||"保存失败！","warning")}))}},mounted:function(){this.getAuthList()}}),o=i,l=(a("124b"),a("f3a4"),a("9ca4")),u=Object(l["a"])(o,s,n,!1,null,"2a34b526",null);e["default"]=u.exports},f3a4:function(t,e,a){"use strict";var s=a("3178"),n=a.n(s);n.a}}]);
//# sourceMappingURL=jobSetting.361506cb.js.map